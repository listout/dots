# vim: set ft=muttrc:
set editor="/usr/bin/nvim"

set sendmail="/usr/bin/msmtp"

# keybindings
source "~/.config/neomutt/mappings"

set send_charset="utf-8"

# connection information
set ssl_force_tls=yes
unset ssl_starttls

# status bar, date format, finding stuff etc.
set status_chars = " *%A"
set status_format = "[ Folder: %f ] [%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]%>─%?p?( %p postponed )?"
set date_format = "%d.%m.%Y %H:%M"
set sort = threads
set sort_aux = reverse-last-date-received
set uncollapse_jump
set sort_re
set reply_regexp = "^(([Rr][Ee]?(\[[0-9]+\])?: *)?(\[[^]]+\] *)?)*"
set quote_regexp = "^( {0,4}[>|:#%]| {0,4}[a-z0-9]+[>|]+)+"
set send_charset = "utf-8:iso-8859-1:us-ascii"
set charset = "utf-8"
set arrow_cursor = "no" # Change `color indicator` depending

# mailcap
set mailcap_path=~/.config/neomutt/mailcap

# automatically open html in mime
auto_view text/html

# sidebar
set sidebar_visible
set sidebar_format = "%B%?F? [%F]?%* %?N?%N/?%S"
set mail_check_stats
set sidebar_width = 25                  # Plenty of space
set sidebar_divider_char = '│'          # Pretty line-drawing character

set header_cache = "~/.neomutt/cache/headers"
set message_cachedir = "~/.neomutt/cache/bodies"
set certificate_file = "~/.neomutt/certificates"
set tmpdir = "~/.neomutt/tmp"

# Use GPGME
set crypt_use_gpgme = yes
# Sign replies to signed emails
set crypt_replysign = yes
# Encrypt replies to encrypted emails
set crypt_replyencrypt = yes
# Encrypt and sign replies to encrypted and signed email
set crypt_replysignencrypted = yes
# Attempt to verify signatures automatically
set crypt_verify_sig = yes
# Use my key for signing and encrypting
set pgp_sign_as = 0xB0EB240706B442A7
macro   compose \CP     "Fgpg --clearsign\ny"
macro   compose \CS     "Fgpg --clearsign\ny^T^Uapplication/pgp; format=text; x-action=sign\n"


set alias_file="$HOME/.config/neomutt/aliases"
source "$HOME/.config/neomutt/aliases"

## ACCOUNT 1
source "~/.config/neomutt/gmail_main"
folder-hook $folder 'source ~/.config/neomutt/gmail_main'
