# Receive options
set imap_pass="`pass show gmail/main/mutt_pass`"
set imap_user="`pass show gmail/main/name`"@gmail.com
set folder=imaps://`pass show gmail/main/name`@imap.gmail.com/
set spoolfile=+INBOX
set record="+[Gmail]/Sent Mail"
set postponed="+[Gmail]/Drafts"
mailboxes =INBOX =[Gmail]/Sent\ Mail =[Gmail]/Drafts =[Gmail]/Spam =[Gmail]/Trash

# store message header locally
set header_cache=~/.cache/neomutt

# store messages locally to speed things up
set message_cachedir="~/.cache/neomutt"

# specify where to save and/or look for postponded messages
set postponed=+[Gmail]/Drafts

# allow mutt to open a new IMAP connection autmatically
unset imap_passive

# keep imap connection alive by polling intermittently
set imap_keepalive=300

# how often to check check for new email
set mail_check=120

# gmail automatically saves sent emails, so we avoid duplicates
unset record

## Send options
set smtp_url=smtps://`pass show gmail/main/name`:`pass show gmail/main/mutt_pass`@smtp.gmail.com
set from=`pass show gmail/main/name`@gmail.com
set hostname="gmail.com"

## Hook
account-hook $folder "set imap_user=`pass show gmail/main/name`@gmail.com imap_pass=`pass show gmail/main/mutt_pass`"

# vim: set ft=muttrc:
